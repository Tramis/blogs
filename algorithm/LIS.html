<!DOCTYPE HTML>
<html lang="zh" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>LIS - Learning Blogs</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../from_the_beginning.html">From The Beginning</a></li><li class="chapter-item expanded "><a href="../tls/TLS.html"><strong aria-hidden="true">1.</strong> TLS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tls/racket.html"><strong aria-hidden="true">1.1.</strong> racket</a></li><li class="chapter-item expanded "><a href="../tls/cons_and_list.html"><strong aria-hidden="true">1.2.</strong> cons and list</a></li><li class="chapter-item expanded "><a href="../tls/stars.html"><strong aria-hidden="true">1.3.</strong> stars</a></li><li class="chapter-item expanded "><a href="../tls/shadow.html"><strong aria-hidden="true">1.4.</strong> shadow</a></li><li class="chapter-item expanded "><a href="../tls/friends_and_relations.html"><strong aria-hidden="true">1.5.</strong> friends and relations</a></li><li class="chapter-item expanded "><a href="../tls/abstract_and_continuation.html"><strong aria-hidden="true">1.6.</strong> continuation</a></li><li class="chapter-item expanded "><a href="../tls/halt.html"><strong aria-hidden="true">1.7.</strong> halt</a></li><li class="chapter-item expanded "><a href="../tls/y.html"><strong aria-hidden="true">1.8.</strong> y(WIP)</a></li><li class="chapter-item expanded "><a href="../tls/type.html"><strong aria-hidden="true">1.9.</strong> type(WIP)</a></li><li class="chapter-item expanded "><a href="../tls/lazy.html"><strong aria-hidden="true">1.10.</strong> lazy(WIP)</a></li><li class="chapter-item expanded "><a href="../tls/questions_TLS.html"><strong aria-hidden="true">1.11.</strong> questions</a></li><li class="chapter-item expanded "><a href="../tls/practice_reverse_list.html"><strong aria-hidden="true">1.12.</strong> (practice)reverse_list</a></li></ol></li><li class="chapter-item expanded "><a href="../cs144/cs144.html"><strong aria-hidden="true">2.</strong> cs144</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cs144/peek.html"><strong aria-hidden="true">2.1.</strong> peek</a></li><li class="chapter-item expanded "><a href="../cs144/send_and_receive.html"><strong aria-hidden="true">2.2.</strong> send and receive</a></li></ol></li><li class="chapter-item expanded "><a href="../fp/fp.html"><strong aria-hidden="true">3.</strong> fp</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../fp/ä¸åŠ¨ç‚¹ç»„åˆå­ä¸é˜¶ä¹˜å‡½æ•°.html"><strong aria-hidden="true">3.1.</strong> ä¸åŠ¨ç‚¹ç»„åˆå­ä¸é˜¶ä¹˜å‡½æ•°</a></li></ol></li><li class="chapter-item expanded "><a href="../algorithm/algorithm.html"><strong aria-hidden="true">4.</strong> algorithm</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../algorithm/minimum_cut_maximum_flow.html"><strong aria-hidden="true">4.1.</strong> minimum cut maximum flow</a></li><li class="chapter-item expanded "><a href="../algorithm/tarjan.html"><strong aria-hidden="true">4.2.</strong> tarjan</a></li><li class="chapter-item expanded "><a href="../algorithm/monotonic.html"><strong aria-hidden="true">4.3.</strong> monotonic</a></li><li class="chapter-item expanded "><a href="../algorithm/fft.html"><strong aria-hidden="true">4.4.</strong> fft</a></li><li class="chapter-item expanded "><a href="../algorithm/CBA.html"><strong aria-hidden="true">4.5.</strong> CBA</a></li><li class="chapter-item expanded "><a href="../algorithm/hashmap.html"><strong aria-hidden="true">4.6.</strong> hashmap</a></li><li class="chapter-item expanded "><a href="../algorithm/huffman.html"><strong aria-hidden="true">4.7.</strong> huffman</a></li><li class="chapter-item expanded "><a href="../algorithm/LIS.html" class="active"><strong aria-hidden="true">4.8.</strong> LIS</a></li></ol></li><li class="chapter-item expanded "><a href="../concurrency/concurrency.html"><strong aria-hidden="true">5.</strong> concurrency</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../concurrency/Mutex_Semaphore_monitor.html"><strong aria-hidden="true">5.1.</strong> Mutex, Semaphore, Monitor</a></li></ol></li><li class="chapter-item expanded "><a href="../math/math.html"><strong aria-hidden="true">6.</strong> math</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../math/series.html"><strong aria-hidden="true">6.1.</strong> series</a></li><li class="chapter-item expanded "><a href="../math/taylor.html"><strong aria-hidden="true">6.2.</strong> æ³°å‹’</a></li><li class="chapter-item expanded "><a href="../math/limits.html"><strong aria-hidden="true">6.3.</strong> limit</a></li><li class="chapter-item expanded "><a href="../math/magic_integral.html"><strong aria-hidden="true">6.4.</strong> ç¥å¥‡ç§¯åˆ†é¢˜</a></li><li class="chapter-item expanded "><a href="../math/wallis.html"><strong aria-hidden="true">6.5.</strong> ç‚¹ç«</a></li><li class="chapter-item expanded "><a href="../math/triangle_integral.html"><strong aria-hidden="true">6.6.</strong> å…¶ä»–ä¸‰è§’å‡½æ•°åˆ†å¼ç§¯åˆ†</a></li><li class="chapter-item expanded "><a href="../math/conti_partial_deriv_differentiate.html"><strong aria-hidden="true">6.7.</strong> è¿ç»­ï¼Œåå¯¼ï¼Œå¯å¾®</a></li><li class="chapter-item expanded "><a href="../math/implicit_function_partial_derivation.html"><strong aria-hidden="true">6.8.</strong> éšå‡½æ•°åå¯¼</a></li><li class="chapter-item expanded "><a href="../math/de.html"><strong aria-hidden="true">6.9.</strong> DE</a></li><li class="chapter-item expanded "><a href="../math/subtle.html"><strong aria-hidden="true">6.10.</strong> ä¸€äº›å¾®å¦™çš„é—®é¢˜</a></li><li class="chapter-item expanded "><a href="../math/fact.html"><strong aria-hidden="true">6.11.</strong> å¸¸ç”¨äº‹å®</a></li><li class="chapter-item expanded "><a href="../math/abstract_solution.html"><strong aria-hidden="true">6.12.</strong> ä¸€äº›æœ‰ç‚¹æŠ½è±¡çš„è§£æ³•</a></li><li class="chapter-item expanded "><a href="../math/examples.html"><strong aria-hidden="true">6.13.</strong> ç‰¹ä¾‹</a></li><li class="chapter-item expanded "><a href="../math/curve_integral.html"><strong aria-hidden="true">6.14.</strong> æ›²çº¿ç§¯åˆ†ğŸ˜‹</a></li></ol></li><li class="chapter-item expanded "><a href="../CICD/CICD.html"><strong aria-hidden="true">7.</strong> CICD</a></li><li class="chapter-item expanded "><a href="../english/english.html"><strong aria-hidden="true">8.</strong> english</a></li><li class="chapter-item expanded "><a href="../dl/softmax.html"><strong aria-hidden="true">9.</strong> AI</a></li><li class="chapter-item expanded affix "><li class="spacer"></li><li class="chapter-item expanded affix "><a href="../test/test.html">TEST</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Learning Blogs</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="å¯¼å¼¹æ‹¦æˆªå’ŒäºŒç»´ååº"><a class="header" href="#å¯¼å¼¹æ‹¦æˆªå’ŒäºŒç»´ååº">å¯¼å¼¹æ‹¦æˆªå’ŒäºŒç»´ååº</a></h1>
<blockquote>
<p>æŸå›½ä¸ºäº†é˜²å¾¡æ•Œå›½çš„å¯¼å¼¹è¢­å‡»ï¼Œå‘å±•å‡ºä¸€ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿã€‚ä½†æ˜¯è¿™ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿæœ‰ä¸€ä¸ªç¼ºé™·ï¼šè™½ç„¶å®ƒçš„ç¬¬ä¸€å‘ç‚®å¼¹èƒ½å¤Ÿåˆ°è¾¾ä»»æ„çš„é«˜åº¦ï¼Œä½†æ˜¯ä»¥åæ¯ä¸€å‘ç‚®å¼¹éƒ½ä¸èƒ½é«˜äºå‰ä¸€å‘çš„é«˜åº¦ã€‚æŸå¤©ï¼Œé›·è¾¾æ•æ‰åˆ°æ•Œå›½çš„å¯¼å¼¹æ¥è¢­ã€‚ç”±äºè¯¥ç³»ç»Ÿè¿˜åœ¨è¯•ç”¨é˜¶æ®µï¼Œæ‰€ä»¥åªæœ‰ä¸€å¥—ç³»ç»Ÿï¼Œå› æ­¤æœ‰å¯èƒ½ä¸èƒ½æ‹¦æˆªæ‰€æœ‰çš„å¯¼å¼¹ã€‚</p>
<p>è¾“å…¥å¯¼å¼¹ä¾æ¬¡é£æ¥çš„é«˜åº¦ï¼Œè®¡ç®—è¿™å¥—ç³»ç»Ÿæœ€å¤šèƒ½æ‹¦æˆªå¤šå°‘å¯¼å¼¹ï¼Œå¦‚æœè¦æ‹¦æˆªæ‰€æœ‰å¯¼å¼¹æœ€å°‘è¦é…å¤‡å¤šå°‘å¥—è¿™ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿã€‚</p>
<pre><code class="language-bash">input: 
389 207 155 300 299 170 158 65

output : 
6
2
</code></pre>
</blockquote>
<p>å¯¼å¼¹ä¹‹é—´å½¢æˆäº†ä¸€ä¸ªäºŒç»´ååºå…³ç³»ï¼Œä¸¤ä¸ªç»´åº¦åˆ†åˆ«ä¸ºå‘å°„æ—¶é—´å…ˆåå’Œé«˜åº¦ <code>(time, height)</code></p>
<p>åˆ†åˆ«ä»¥å…¶ä¸ºæ¨ªè½´å’Œçºµè½´å¯ä»¥ç”»å‡ºä¸‹å›¾ï¼š</p>
<pre><code class="language-ascii">   â–²
   â”‚
   â”‚                                              â”‚
   â”‚        â–¼ 399                                 â”‚
   â”‚                         â–¼ 300                â”‚
   â”‚                            â–¼ 299             â”‚
   â”‚             â–¼ 207                            â”‚
   â”‚                                 â–¼ 170        â”‚
   â”‚                                     â–¼ 158    â”‚
   â”‚                  â–¼ 155                       â”‚
   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€
   â”‚                                              â”‚ â–¼ 65
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
</code></pre>
<p>å¯ä»¥çœ‹å‡ºå‡å¦‚ä¸ä¿ç•™è¶³å¤Ÿçš„ä¿¡æ¯ï¼Œæ— æ³•åŒºåˆ† <code>65</code> è¿™ä¸ªå¯¼å¼¹çš„ä¸Šå®¶æ˜¯æ‹¦æˆª <code>155</code> è¿˜æ˜¯ <code>158</code> æ›´å¥½ï¼Œå› è€Œè¿™é‡Œä¸èƒ½è€ƒè™‘è´ªå¿ƒ</p>
<h2 id="æœ´ç´ -dp"><a class="header" href="#æœ´ç´ -dp">æœ´ç´  <code>dp</code></a></h2>
<p>è¿­ä»£åˆ° <code>65</code> æ—¶ï¼Œä¸ä¼šè€ƒè™‘æ­¤å‰é«˜åº¦å°äº <code>65</code> çš„å¯¼å¼¹ï¼Œä¹Ÿä¸ä¼šè€ƒè™‘åœ¨ <code>65</code> ä¹‹åæ‰è¦æ‹¦æˆªçš„å¯¼å¼¹ï¼Œå› è€Œåªéœ€è¦è€ƒå¯Ÿä¸Šæ–¹å›¾ä¸­ <code>65</code> <strong>å·¦ä¸Šä¾§</strong>çš„å¯¼å¼¹</p>
<p>äºæ˜¯æœ‰ä¸€ä¸ªå¾ˆç®€å•çš„ <code>dp</code> æ€è·¯ï¼šä»¥ <code>dp1[i]</code> è¡¨ç¤ºæ‹¦æˆªç¬¬ <code>i</code> ä¸ªå¯¼å¼¹çš„æœ€é•¿åºåˆ—é•¿åº¦ï¼Œåˆ™</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mord">1</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">{</span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mord">1</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mspace">Â </span><span class="mord">âˆ£</span><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">height[j]</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">height[i]</span></span><span class="mclose">}</span></span></span></span></span></p>
<h2 id="æ ‘çŠ¶æ•°ç»„"><a class="header" href="#æ ‘çŠ¶æ•°ç»„">æ ‘çŠ¶æ•°ç»„</a></h2>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœèƒ½å¤Ÿè€ƒè™‘ä» <code>158</code> è¿™ä¸ªå¯¼å¼¹æ¥é¾™ï¼Œåˆ™ä¸€å®šä¸ç”¨è€ƒè™‘ä» <code>170</code> è¿™ä¸ªå¯¼å¼¹æ¥é¾™ï¼Œå› ä¸º <code>170</code> åœ¨ <code>158</code> çš„<strong>å·¦ä¸Šä¾§</strong></p>
<p>è¿™è¯´æ˜æœ‰é‡å¤ä¿¡æ¯å¯ä»¥åˆ©ç”¨ï¼Œæœ‰ä¼˜åŒ–ç©ºé—´</p>
<p>é‡æ–°å®¡æŸ¥è¿­ä»£è¿‡ç¨‹ï¼Œå‘ç°å¯ä»¥é€šè¿‡ç»´æŠ¤ä¸€ä¸ªåŒºé—´çš„å€¼æ¥åˆ©ç”¨è¿™ä¸ªä¿¡æ¯ï¼š</p>
<p>å½“ <code>155</code> é«˜åº¦çš„å¯¼å¼¹è¿­ä»£å®Œæˆæ—¶ï¼Œä»¥å…¶ç»“å°¾çš„å¯¼å¼¹åºåˆ—é•¿åº¦ä¸º <code>dp2[155]</code>ï¼Œåˆ™æ­¤åé«˜åº¦åœ¨ <code>[1, 155]</code> ä¹‹é—´çš„å¯¼å¼¹ï¼Œèµ·ç èƒ½æˆä¸ºé•¿åº¦ <code>dp2[155] + 1</code> çš„å¯¼å¼¹åºåˆ—ç»“å°¾</p>
<p>å› æ­¤ï¼Œé€šè¿‡ç»´æŠ¤ <code>[1, height[i]]</code> çš„åŒºé—´æœ€å¤§å€¼ï¼Œå¯ä»¥ç«‹åˆ»å¾—åˆ°æ–°å¯¼å¼¹èƒ½æ¥ä¸Šçš„æœ€é•¿åºåˆ—</p>
<p>å¯ä»¥é€šè¿‡æ ‘çŠ¶æ•°ç»„æ¥ç»´æŠ¤è¿™æ ·çš„åŒºé—´å€¼</p>
<h2 id="å•è°ƒæ€§"><a class="header" href="#å•è°ƒæ€§">å•è°ƒæ€§</a></h2>
<p>å¯ä»¥çœ‹å‡ºï¼Œä¸Šæ–¹æ ‘çŠ¶æ•°ç»„çš„åšæ³•ä¸­ï¼Œè‹¥ä»¥ <code>max[i]</code> è¡¨ç¤º <code>[1, i]</code> çš„åŒºé—´æœ€å¤§å€¼ï¼Œåˆ™å…¶æ˜¯ä¸€ä¸ªå•è°ƒä¸å¢åºåˆ—ï¼Œè¿™æ˜¯ç”±å®ƒçš„å®šä¹‰å†³å®šçš„</p>
<p>å…¶å®è¿™é‡Œå·²ç»æ²¡æœ‰ä»€ä¹ˆä¼˜åŒ–ç©ºé—´äº†ï¼Œå› ä¸ºç»´æŠ¤è¿™æ ·çš„åŒºé—´æœ€å€¼ï¼ŒåŸºæœ¬ä¸Šä¹Ÿå°±æ˜¯æ ‘çŠ¶æ•°ç»„è¿™ä¸ªæ•°æ®ç»“æ„çš„æœ€å¤§èƒ½åŠ›äº†</p>
<p>å…¶ä»–é¢˜è§£ä¸ç”¨æ ‘çŠ¶æ•°ç»„çš„ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åˆ©ç”¨äº†è¿™ä¸ªå•è°ƒæ€§ï¼š</p>
<!-- 
ä»¥ `dp3[i]` è¡¨ç¤ºé•¿ä¸º `i` çš„åºåˆ—æœ€ç»ˆç»“å°¾çš„å¯¼å¼¹é«˜åº¦ï¼Œåˆ™ä»»ä½• `dp3[i]` éƒ½å¸Œæœ›è‡ªå·±çš„å€¼è¶Šå¤§è¶Šå¥½ -->
<p>å›è¿‡å¤´æ¥çœ‹ä¸Šé¢çš„äºŒç»´ååºå›¾ï¼Œä¸èƒ½ä»…ä»…ç»´æŠ¤å›¾ä¸­çš„å‡¸åŒ…ç»œé¢ï¼š</p>
<pre><code class="language-ascii">  â–²
  â”‚        â–¼
  â”‚                              â–¼
  â”‚                      â–¼    â–¼    x
  â”‚           â–¼    â–¼   â–¼  â–¼      x
  â”‚                      â–¼
  â”‚               â–¼
  â”‚                  â–¼       y
  â”‚       â–¼       â–¼     â–¼      x4
  â”‚ â–¼    
  â”‚    â–¼
  â”‚             x3
  â”‚          x2
  â”‚  x1
  â”‚                                          A
â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
</code></pre>
<p>å›¾ä¸­è¿­ä»£åˆ° <code>A</code> æ—¶ï¼Œä¸èƒ½ä»…è€ƒå¯Ÿæ ‡ä¸º <code>x</code> çš„æ‰€æœ‰ç‚¹ï¼Œ<strong>å°½ç®¡</strong>å…¶ä½™æ‰€æœ‰ç‚¹éƒ½åŒ…ç»œåœ¨è¿™äº›ç‚¹çš„<strong>å·¦ä¸Šä¾§</strong>ã€‚ï¼ˆåä¾‹æ˜¯æ¥ä¸‹æ¥æ¥äº†ä¸€ä¸ªé«˜åº¦åœ¨ <code>[x4, y]</code> ä¹‹é—´çš„ç‚¹ï¼‰</p>
<p>å®é™…ä¸Šï¼Œæ‰€æœ‰åœ¨ â€œæœ€å³ä¾§â€ çš„ç‚¹ï¼Œéƒ½åº”è¯¥ç»´æŠ¤ï¼Œå”¯ä¸€èƒ½ä¿è¯å¯ä»¥ä¸¢å¼ƒçš„åªæœ‰é«˜åº¦ç›¸åŒçš„ç‚¹ï¼š</p>
<pre><code class="language-ascii">  â–²
  â”‚        x
  â”‚                              x
  â”‚                      â–¼    â–¼    x
  â”‚           â–¼    â–¼   â–¼  â–¼      x
  â”‚                      x
  â”‚               x
  â”‚                  â–¼       x
  â”‚       â–¼       â–¼     â–¼      x4
  â”‚ x    
  â”‚    x
  â”‚             x3
  â”‚          x2
  â”‚  x1
  â”‚                                          A
â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
</code></pre>
<blockquote>
<p>ï¼ˆæ‰€æœ‰æ ‡ä¸º <code>x</code> çš„ç‚¹ï¼Œæ¥ä¸‹æ¥éƒ½æœ‰å¯èƒ½ç”¨åˆ°ï¼‰</p>
</blockquote>
<p>ä¸æ­¤åŒæ—¶ï¼Œè¿™äº›ç‚¹å½“ä¸­ä¹Ÿæœ‰ç‚¹å¯ä»¥ä¸å¿…ç»´æŠ¤ï¼šæ¯”å¦‚ <code>x1, x2, x3</code> çš„æœ€é•¿å¯¼å¼¹æ‹¦æˆªåºåˆ—éƒ½æ˜¯ <code>2</code>ï¼Œå‡å¦‚</p>
<ol>
<li><code>A</code> åŒæ—¶å°äºè¿™ä¸‰è€…ï¼Œåˆ™è¿™ä¸‰è€…å¯¹äº <code>A</code> æ¥è¯´æ˜¯ç­‰ä»·çš„</li>
<li>ä½†å¦‚æœ <code>A</code> å°äº <code>x3</code> å´å¤§äº <code>x2</code>ï¼Œåˆ™åªéœ€è¦è€ƒè™‘ <code>x3</code>ï¼Œè€Œä¸å¿…è€ƒè™‘ <code>x1, x2</code></li>
</ol>
<p>å› æ­¤ï¼Œ<code>x3</code> æ˜¯ä¸€å®šè¦ä¿ç•™çš„ï¼Œè€Œ <code>x1, x2</code> å´æ˜¯å¯æœ‰å¯æ— çš„ï¼Œç»¼ä¸Šï¼Œåœ¨è¿™æ¡åŒ…ç»œçº¿å½“ä¸­ï¼Œå¯¹äºæœ€é•¿åºåˆ—é•¿åº¦ç›¸ç­‰çš„ç‚¹ï¼Œåªéœ€ç»´æŠ¤å…¶ä¸­é«˜åº¦æœ€é«˜çš„ç‚¹</p>
<p>æˆ–è€…ï¼Œç”±äºé¢˜ç›®æ²¡æœ‰è¦æ±‚è¾“å‡ºå…·ä½“ç‚¹ï¼Œå› è€Œåªéœ€è¦ç»´æŠ¤æœ€é«˜é«˜åº¦ï¼Œè€Œä¸å¿…å…³æ³¨å…·ä½“æ˜¯å“ªä¸ªç‚¹</p>
<p>äºæ˜¯ä»…ä»…éœ€è¦ç»´æŠ¤ <code>dp3[i]</code> è¡¨ç¤ºé•¿ä¸º <code>i</code> çš„æ‹¦æˆªåºåˆ—çš„å°¾éƒ¨æœ€å¤§é«˜åº¦ã€‚è¿™å·²ç»æ˜¯éœ€è¦ç»´æŠ¤çš„æœ€å°‘çš„ä¿¡æ¯</p>
<p>å¯ä»¥çœ‹å‡ºè¿™ä¸ªä¿¡æ¯ä¸ä¸Šæ–¹æ ‘çŠ¶æ•°ç»„ä¸­å•è°ƒæ€§ç­‰ä»·ï¼šå…¶å®è´¨æ˜¯ç»´æŠ¤åŒºé—´æœ€å¤§å€¼çš„ç«¯ç‚¹</p>
<p>åŒæ ·å¯ä»¥çœ‹å‡ºï¼Œéšç€è¿­ä»£è¿‡ç¨‹ï¼Œå¯¹äºä»»æ„é•¿åº¦ <code>i</code>ï¼Œ<code>dp3[i]</code> æ˜¯åªå¢ä¸å‡çš„ï¼Œè¿™å¯¹åº”äº†ä¸Šæ–¹æ ‘çŠ¶æ•°ç»„çš„åŒºé—´ç«¯ç‚¹åªå¢ä¸å‡</p>
<h2 id="ç¬¬äºŒé—®"><a class="header" href="#ç¬¬äºŒé—®">ç¬¬äºŒé—®</a></h2>
<p>æ®è¯´æœ‰ <code>Dilworth</code> å®šç†ï¼Œå…¶åœ¨æ­¤é¢˜ä¸­çš„ä½“ç°æ˜¯ï¼š</p>
<p>å°†ä¸€ä¸ªåºåˆ—å‰–æˆè‹¥å¹²ä¸ªå•è°ƒä¸å‡å­åºåˆ—çš„æœ€å°ä¸ªæ•°ç­‰äºè¯¥åºåˆ—æœ€é•¿ä¸Šå‡å­åºåˆ—çš„ä¸ªæ•°</p>
<p>æˆ‘è¿™é‡Œæ˜¯ç›´æ¥è´ªå¿ƒ</p>
<h2 id="ä»£ç æ ‘çŠ¶æ•°ç»„"><a class="header" href="#ä»£ç æ ‘çŠ¶æ•°ç»„">ä»£ç ï¼ˆæ ‘çŠ¶æ•°ç»„ï¼‰</a></h2>
<pre><code class="language-cpp">#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;vector&gt;

const int MAX_VALUE = 5e4 + 50;

template &lt;std::size_t N&gt; struct BIT {
  int c[N] = {0};

  static inline int lowbit(const int x) { return x &amp; -x; }

  /// update value in [1, i] with n
  void update(int n, int i) {
    while (i &gt; 0 &amp;&amp; c[i] &lt; n) {
      c[i] = n;
      i -= lowbit(i);
    }
  }

  int get(int i) {
    int ans = 0;
    while (i &lt;= N) {
      ans = std::max(ans, c[i]);
      i += lowbit(i);
    }
    return ans;
  }
};

int main() {
  int n = 0;

  int a[(int)1e5 + 50];

  while (std::cin &gt;&gt; a[n++]) {
  };
  n -= 1;

  if (n == 0) {
    std::cout &lt;&lt; "0\n0" &lt;&lt; std::endl;
    return 0;
  }

  auto bit = BIT&lt;MAX_VALUE&gt;{};

  for (int i = 0; i &lt; n; i++) {
    bit.update(bit.get(a[i]) + 1, a[i]);
  }

  auto v2 = std::vector&lt;int&gt;{a[0]};

  for (int i = 1; i &lt; n; i++) {
    auto tmp = std::lower_bound(v2.begin(), v2.end(), a[i]);
    if (tmp == v2.end()) {
      v2.push_back(a[i]);
    } else {
      *tmp = a[i];
    }
  }

  std::cout &lt;&lt; bit.get(1) &lt;&lt; std::endl &lt;&lt; v2.size();

  return 0;
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../algorithm/huffman.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../concurrency/concurrency.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../algorithm/huffman.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../concurrency/concurrency.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
