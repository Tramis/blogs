<!DOCTYPE HTML>
<html lang="zh" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>continuation - Learning Blogs</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../from_the_beginning.html">From The Beginning</a></li><li class="chapter-item expanded "><a href="../tls/TLS.html"><strong aria-hidden="true">1.</strong> TLS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tls/racket.html"><strong aria-hidden="true">1.1.</strong> racket</a></li><li class="chapter-item expanded "><a href="../tls/cons_and_list.html"><strong aria-hidden="true">1.2.</strong> cons and list</a></li><li class="chapter-item expanded "><a href="../tls/stars.html"><strong aria-hidden="true">1.3.</strong> stars</a></li><li class="chapter-item expanded "><a href="../tls/shadow.html"><strong aria-hidden="true">1.4.</strong> shadow</a></li><li class="chapter-item expanded "><a href="../tls/friends_and_relations.html"><strong aria-hidden="true">1.5.</strong> friends and relations</a></li><li class="chapter-item expanded "><a href="../tls/abstract_and_continuation.html" class="active"><strong aria-hidden="true">1.6.</strong> continuation</a></li><li class="chapter-item expanded "><a href="../tls/halt.html"><strong aria-hidden="true">1.7.</strong> halt</a></li><li class="chapter-item expanded "><a href="../tls/y.html"><strong aria-hidden="true">1.8.</strong> y(WIP)</a></li><li class="chapter-item expanded "><a href="../tls/type.html"><strong aria-hidden="true">1.9.</strong> type(WIP)</a></li><li class="chapter-item expanded "><a href="../tls/lazy.html"><strong aria-hidden="true">1.10.</strong> lazy(WIP)</a></li><li class="chapter-item expanded "><a href="../tls/questions_TLS.html"><strong aria-hidden="true">1.11.</strong> questions</a></li><li class="chapter-item expanded "><a href="../tls/practice_reverse_list.html"><strong aria-hidden="true">1.12.</strong> (practice)reverse_list</a></li></ol></li><li class="chapter-item expanded "><a href="../cs144/cs144.html"><strong aria-hidden="true">2.</strong> cs144</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cs144/peek.html"><strong aria-hidden="true">2.1.</strong> peek</a></li><li class="chapter-item expanded "><a href="../cs144/send_and_receive.html"><strong aria-hidden="true">2.2.</strong> send and receive</a></li></ol></li><li class="chapter-item expanded "><a href="../fp/fp.html"><strong aria-hidden="true">3.</strong> fp</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../fp/ä¸åŠ¨ç‚¹ç»„åˆå­ä¸é˜¶ä¹˜å‡½æ•°.html"><strong aria-hidden="true">3.1.</strong> ä¸åŠ¨ç‚¹ç»„åˆå­ä¸é˜¶ä¹˜å‡½æ•°</a></li></ol></li><li class="chapter-item expanded "><a href="../algorithm/algorithm.html"><strong aria-hidden="true">4.</strong> algorithm</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../algorithm/minimum_cut_maximum_flow.html"><strong aria-hidden="true">4.1.</strong> minimum cut maximum flow</a></li><li class="chapter-item expanded "><a href="../algorithm/tarjan.html"><strong aria-hidden="true">4.2.</strong> tarjan</a></li><li class="chapter-item expanded "><a href="../algorithm/monotonic.html"><strong aria-hidden="true">4.3.</strong> monotonic</a></li><li class="chapter-item expanded "><a href="../algorithm/fft.html"><strong aria-hidden="true">4.4.</strong> fft</a></li><li class="chapter-item expanded "><a href="../algorithm/CBA.html"><strong aria-hidden="true">4.5.</strong> CBA</a></li><li class="chapter-item expanded "><a href="../algorithm/hashmap.html"><strong aria-hidden="true">4.6.</strong> hashmap</a></li><li class="chapter-item expanded "><a href="../algorithm/huffman.html"><strong aria-hidden="true">4.7.</strong> huffman</a></li><li class="chapter-item expanded "><a href="../algorithm/LIS.html"><strong aria-hidden="true">4.8.</strong> LIS</a></li></ol></li><li class="chapter-item expanded "><a href="../concurrency/concurrency.html"><strong aria-hidden="true">5.</strong> concurrency</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../concurrency/Mutex_Semaphore_monitor.html"><strong aria-hidden="true">5.1.</strong> Mutex, Semaphore, Monitor</a></li></ol></li><li class="chapter-item expanded "><a href="../math/math.html"><strong aria-hidden="true">6.</strong> math</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../math/series.html"><strong aria-hidden="true">6.1.</strong> series</a></li><li class="chapter-item expanded "><a href="../math/taylor.html"><strong aria-hidden="true">6.2.</strong> æ³°å‹’</a></li><li class="chapter-item expanded "><a href="../math/limits.html"><strong aria-hidden="true">6.3.</strong> limit</a></li><li class="chapter-item expanded "><a href="../math/magic_integral.html"><strong aria-hidden="true">6.4.</strong> ç¥å¥‡ç§¯åˆ†é¢˜</a></li><li class="chapter-item expanded "><a href="../math/wallis.html"><strong aria-hidden="true">6.5.</strong> ç‚¹ç«</a></li><li class="chapter-item expanded "><a href="../math/triangle_integral.html"><strong aria-hidden="true">6.6.</strong> å…¶ä»–ä¸‰è§’å‡½æ•°åˆ†å¼ç§¯åˆ†</a></li><li class="chapter-item expanded "><a href="../math/conti_partial_deriv_differentiate.html"><strong aria-hidden="true">6.7.</strong> è¿ç»­ï¼Œåå¯¼ï¼Œå¯å¾®</a></li><li class="chapter-item expanded "><a href="../math/implicit_function_partial_derivation.html"><strong aria-hidden="true">6.8.</strong> éšå‡½æ•°åå¯¼</a></li><li class="chapter-item expanded "><a href="../math/de.html"><strong aria-hidden="true">6.9.</strong> DE</a></li><li class="chapter-item expanded "><a href="../math/subtle.html"><strong aria-hidden="true">6.10.</strong> ä¸€äº›å¾®å¦™çš„é—®é¢˜</a></li><li class="chapter-item expanded "><a href="../math/fact.html"><strong aria-hidden="true">6.11.</strong> å¸¸ç”¨äº‹å®</a></li><li class="chapter-item expanded "><a href="../math/abstract_solution.html"><strong aria-hidden="true">6.12.</strong> ä¸€äº›æœ‰ç‚¹æŠ½è±¡çš„è§£æ³•</a></li><li class="chapter-item expanded "><a href="../math/examples.html"><strong aria-hidden="true">6.13.</strong> ç‰¹ä¾‹</a></li><li class="chapter-item expanded "><a href="../math/curve_integral.html"><strong aria-hidden="true">6.14.</strong> æ›²çº¿ç§¯åˆ†ğŸ˜‹</a></li></ol></li><li class="chapter-item expanded "><a href="../CICD/CICD.html"><strong aria-hidden="true">7.</strong> CICD</a></li><li class="chapter-item expanded "><a href="../english/english.html"><strong aria-hidden="true">8.</strong> english</a></li><li class="chapter-item expanded "><a href="../fallback/ä¼¤å¯’æ‚ç—…è®º.html"><strong aria-hidden="true">9.</strong> ä¼¤å¯’æ‚ç—…è®º</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../fallback/é›†ä¸­æ³¨æ„åŠ›.html"><strong aria-hidden="true">9.1.</strong> é›†ä¸­æ³¨æ„åŠ›</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../test/test.html">TEST</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Learning Blogs</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="abstract-and-continuation"><a class="header" href="#abstract-and-continuation">abstract and continuation</a></h1>
<p>è¿™ç« è¿˜æ²¡æ·±å…¥è®² <code>lambda</code>ï¼Œåªæ˜¯å°†å…¶ä½œä¸ºæŠ½è±¡å·¥å…·</p>
<h2 id="continuation"><a class="header" href="#continuation">continuation</a></h2>
<p><a href="https://en.wikipedia.org/wiki/Continuation">Wiki</a>:</p>
<blockquote>
<p>In computer science, a continuation is an abstract representation of the control state of a computer program. A continuation implements (reifies) the program control state, i.e. the continuation is a data structure that represents the computational process at a given point in the process's execution; the created data structure can be accessed by the programming language, instead of being hidden in the runtime environment. Continuations are useful for encoding other control mechanisms in programming languages such as exceptions, generators, coroutines, and so on.</p>
</blockquote>
<p>ç®€å•ç†è§£çš„è¯ï¼Œæ„Ÿè§‰æ˜¯æŠŠä¸€ä¸ªè¿ç»­è¿‡ç¨‹åˆ†è§£æˆä»èŠ‚ç‚¹åˆ°èŠ‚ç‚¹ï¼Œå¹¶ä¸”æŠŠèŠ‚ç‚¹ä»¥å…·ä½“æ•°æ®ç»“æ„è¡¨ç¤ºå‡ºæ¥æ–¹ä¾¿åç»­æ“ä½œã€‚æœ‰ç‚¹åƒ <code>linux</code> çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæœ‰ç‚¹åƒæµ</p>
<h2 id="multiremberco"><a class="header" href="#multiremberco"><code>multirember&amp;co</code></a></h2>
<p>æˆ‘ä¸å¥½è¯´ï¼Œè¿™éƒ¨åˆ†æœ‰ç‚¹çƒ§è„‘</p>
<pre><code class="language-scheme">(define multirember&amp;co
  (lambda (a lat col)
    (cond
      ((null? lat)
       (col '() '()))
      ((eq? a (car lat))
       (multirember&amp;co a (cdr lat)
                       (lambda (newlat seen)
                         (col newlat (cons (car lat) seen)))))
      (else
       (multirember&amp;co a (cdr lat)
                       (lambda (newlat seen)
                         (col (cons (car lat) newlat) seen)))))))
</code></pre>
<p>è¿˜æ˜¯ç›´æ¥æ¥ä¸ªä¾‹å­å±•å¼€ï¼š</p>
<pre><code class="language-scheme">(define a-friend
    (lambda (x y) (null? y)))

(multirember&amp;co 2 '(1 2 3) a-friend)

=&gt; (multirember&amp;co 2 '(2 3)
                   (lambda (newlat seen)
                     (a-friend (cons 1 newlat) seen)))

=&gt; (multirember&amp;co 2 '(3)
                   (lambda (newlat' seen')
                     (lambda (newlat seen)
                       (a-friend (cons 1 newlat) seen))
                     newlat'
                     (cons 2 seen')))

=&gt; (multirember&amp;co 2 '()
                   (lambda (newlat'' seen'')
                     (lambda (newlat' seen')
                       (lambda (newlat seen)
                         (a-friend (cons 1 newlat) seen))
                       newlat'
                       (cons 2 seen'))
                     (cons 3 newlat'')
                     seen''))

=&gt; ((lambda (newlat'' seen'')
      (lambda (newlat' seen')
        (lambda (newlat seen)
          (a-friend (cons 1 newlat) seen))
          newlat'
          (cons 2 seen'))
        (cons 3 newlat'')
        seen'')
      '()
      '())

=&gt; ((lambda (newlat' seen')
      (lambda (newlat seen)
        (a-friend (cons 1 newlat) seen))
        newlat'
        (cons 2 seen'))
      (cons 3 '()) 
      '()))

=&gt; ((lambda (newlat seen)
      (a-friend (cons 1 newlat) seen))
    (cons 3 '())
    (cons 2 '()))

=&gt; (a-friend (cons 1 (cons 3 '()) (cons 2 '())))

=&gt; #f
     
</code></pre>
<p>æˆ‘ä¸å¥½è¯´ã€‚</p>
<p>ä»è¿™ä¸ªå±•å¼€æ¥çœ‹ï¼Œè¯¥å‡½æ•°ä¼šå°† <code>l</code> åˆ†æˆä¸¤ä¸ª <code>list</code>ï¼Œå‰è€…æ˜¯å»æ‰ <code>a</code> çš„ <code>l</code>ï¼Œåè€…æ˜¯æ‰€æœ‰çš„ <code>a</code>ã€‚</p>
<p>æ•æˆ‘ç›´è¨€ï¼Œè¿™ä¸ªä¾‹å­ä¸¾å¾—ä¸æ˜¯å¾ˆå¥½ã€‚ä¸€æ¥è¿™ä¸ªå‡½æ•°çš„æ„ä¹‰å¹¶ä¸æ˜¾ç„¶ï¼ŒäºŒæ¥éš¾åº¦æ›²çº¿å¤ªå¤§ï¼Œæ‰‹åŠ¨æ¨¡æ‹Ÿèµ·æ¥æœ‰äº›ç¹ç</p>
<h2 id="å·²ç»è§£åŒ…"><a class="header" href="#å·²ç»è§£åŒ…">å·²ç»è§£åŒ…</a></h2>
<p>æˆ‘è§‰å¾—ä¸€ä¸ªç®€å•ç‚¹çš„ä¾‹å­ä¹Ÿè®¸çœ‹çš„æ›´æ¸…æ¥š</p>
<p>å†™ä¸ªå‡½æ•° <code>remove-a&amp;co x l col</code> å¤„ç†æ•°å­—çš„ <code>list</code>ï¼Œå»æ‰ <code>l</code> ä¸­çš„ <code>x</code> å¹¶ç»Ÿè®¡å…¶ä¸ªæ•°</p>
<pre><code class="language-scheme">(define (remove-a&amp;co x l col)
  (cond
    ((null? l) (col '() 0))
    ((= x (car l))
     (remove-a&amp;co x (cdr l)
                  (lambda (newl cnt)
                    (col newl (add1 cnt)))))
    (else (remove-a&amp;co x (cdr l)
           (lambda (newl cnt)
             (col (cons (car l) newl) cnt))))))

; (remove-a&amp;co 1 '(2 1 3 5 4 1)
;              (lambda (l cnt) (list l cnt)))

; ç›´æ¥ç”¨ `list` æ›¿ä»£è¿™ä¸ª `lambda`
(remove-a&amp;co 1 '(2 1 3 5 4 1) list)

; output: 
;   '((2 3 5 4) 2)
</code></pre>
<p>ç”¨ä¸€ä¸ªç®€å•ç‚¹çš„ä¾‹å­å†™ä¸€ä¸‹å±•å¼€è¿‡ç¨‹ï¼š</p>
<pre><code class="language-scheme">(remove-a&amp;co 1 '(2 1 3) list)

-&gt;
(remove-a&amp;co 1 '(1 3)
    (lambda (newl cnt)
        (list (cons 2 newl) cnt)))

-&gt;
(remove-a&amp;co 1 '(3)
    (lambda (newl' cnt')
        (lambda (newl cnt)
            (list (cons 2 newl) cnt))
          newl'
          (add1 cnt')))

-&gt;
(remove-a&amp;co 1 '()
    (lambda (newl'' cnt'')
        (lamdba (newl' cnt')
            (lambda (newl cnt)
                (list (cons 2 newl) cnt))
            newl'
            (add1 cnt'))
        (cons 3 newl'')
        cnt''))

-&gt;
((lambda (newl'' cnt'')
    (lamdba (newl' cnt')
        (lambda (newl cnt)
            (list (cons 2 newl) cnt))
        newl'
        (add1 cnt'))
    (cons 3 newl'')
    cnt'')
    '()
    0)

-&gt;
((lambda (newl' cnt')
    (lambda (newl cnt)
        (list (cons 2 newl) cnt))
        newl'
        (add1 cnt'))
    (cons 3 '())
    0)

-&gt;
((lambda (newl cnt)
    (list (cons 2 newl) cnt))
    (cons 3 '())
    1)

-&gt;
(list (cons 2 (cons 3 '())) 1)

; which is
;   '((2 3) 1)
</code></pre>
<p><code>lambda</code> åµŒå¥— <code>lambda</code>ï¼Œæœ¬è¯¥åœ¨è¿‡ç¨‹å¼è¯­è¨€ä¸­æœ€é‡Œä¾§çš„å‚æ•°ï¼Œåœ¨è¿™é‡Œå´æ˜¯ä»æœ€å¤–ä¾§ä¼ è¿›å»</p>
<p>æ•°æ®ä¼ é€’ä»¥å‚æ•°çš„å½¢å¼è¿›è¡Œï¼Œè€Œæ²¡æœ‰è§£åŒ…çš„è¿‡ç¨‹</p>
<h2 id="evens-only"><a class="header" href="#evens-only"><code>evens-only*</code></a></h2>
<p>è¯¥å‡½æ•°è¿‡æ»¤æ‰ <code>list</code> ä¸­çš„å¥‡æ•°ï¼Œå¹¶ç»Ÿè®¡å»æ‰å¥‡æ•°çš„ä¸ªæ•°ã€‚</p>
<p>æ­¤ä¹ é¢˜ä¸ä¹‹å‰çš„å·®ä¸å¤šï¼Œä¸è¿‡è¦æ±‚ä» <code>list</code> çš„å·¦å³ä¸¤è¾¹åŒæ—¶é€’å½’ï¼Œå¹¶æ•´åˆä¸¤è¾¹é€’å½’çš„ç»“æœã€‚</p>
<pre><code class="language-scheme">(define (evens-only*&amp;co l col)
  (cond
    ((null? l) (col '() 0))
    ((atom? (car l))
     (cond
       ((even? (car l))
        (evens-only*&amp;co (cdr l)
                     (lambda (newl cnt)
                       (col (cons (car l) newl) cnt))))
       (else (evens-only*&amp;co (cdr l)
                          (lambda (newl cnt)
                            (col newl (add1 cnt)))))))
    (else (evens-only*&amp;co (cdr l)
                       (lambda (newld cntd)
                         (evens-only*&amp;co (car l)
                                         (lambda (newla cnta)
                                           (col (cons newla newld)
                                                (+ cnta cntd)))))))))

(evens-only*&amp;co '((9 1 2 8) 3 10 ((9 9) 7 6) 2) list)

; '(((2 8) 10 (() 6) 2) 6)
</code></pre>
<p>è¿™ä¸ªæ•´åˆä¸¤ä¾§çš„ <code>lambda</code> å¾ˆä¸å¥½æƒ³ã€‚</p>
<p>ä¹‹æ‰€ä»¥èƒ½å†™å‡ºè¿™ä¸ª <code>collector</code>ï¼Œæˆ‘æƒ³æ˜¯å› ä¸ºäºŒå‰æ ‘å¯ä»¥æ‹‰ç›´æˆä¸€æ¡é“¾</p>
<p>ä»å›è°ƒå‡½æ•°çš„è§’åº¦æ¥ç†è§£ï¼Œå½“ <code>(lambda (newl cnt) ...)</code> å®šä¹‰å‡ºæ¥æ—¶ï¼Œå°±è¯¥å‡è®¾å…¶å‡½æ•°ä½“å®šä¹‰é‡Œå·²ç»å¾—åˆ°äº† <code>newl, cnt</code> çš„å€¼ï¼Œå¹¶ä¸”èƒ½å¤Ÿè‡ªç”±ä½¿ç”¨</p>
<p>å—¯...</p>
<p><code>callback</code> å¯èƒ½æ˜¯ä¸ªä¸é”™çš„è§’åº¦</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../tls/friends_and_relations.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../tls/halt.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../tls/friends_and_relations.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../tls/halt.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
